###########################
# Albanian Events
###########################

#country_event = {
#	id = albania.a1
#	title = albania.a1.title
#	desc = albania.a1_desc
#	picture = GFX_
#	
#	is_triggered_only = yes
#	
#	option = { # option 1
#		name = albania.a1.o1
#		ai_chance = { factor = 75 }
#
#	}
#	option = { # option 2
#		name = albania.o2
#		ai_chance = { factor = 25 }
#
#		ALB = {
#			add_popularity = { ideology = democratic   popularity = 0.075 }
#			add_popularity = { ideology = communism   popularity = 0.075 }
#			add_popularity = { ideology = fascism   popularity = 0.075 }
#	   }
#		add_political_power = -25
#	}
#}

add_namespace = albania

country_event = { # konare civil war
    id = albania.1
    title = albania.1.t
    desc = albania.1.d
    picture = GFX_report_event_ger_civil_war
    is_triggered_only = yes
    
    #civil war starts
    option = {
        name = albania.1.a
        hidden_effect = {
            set_capital = { state = 910 }
            start_civil_war = {
                ruling_party = neutrality
                ideology = neutrality
                size = 0.5
                capital = 64
                states = { 44 805 }
            }
            set_party_name = { ideology = neutrality }
            load_oob = "ALB_konare_rebellion_konare"
            random_other_country = {
                limit = {
                    original_tag = ALB
                    has_government = neutrality
                }
                set_stability = 0.9
                set_war_support = 0.8
                load_oob = "ALB_konare_rebellion_neutrality"
            }
            
            set_politics = {
                ruling_party = neutrality
                elections_allowed = no
            }
            set_popularities = {
                democratic = 10
                fascism = 5
                communism = 15
                neutrality = 70
            } 
            set_stability = 0.6
            set_war_support = 0.5
            remove_ideas = { idea = ALB_idea_the_royal_albanian_army }
            set_party_name = { ideology = neutrality long_name = ALB_neutrality_konare_party_long name = ALB_neutrality_konare_party }
            set_political_power = 200
            add_equipment_to_stockpile = {
                type = infantry_equipment
                amount = 1000
                producer = ALB
            }
        }
        custom_effect_tooltip = ALB_june_revolution_tt
        add_stability = -0.25
        hidden_effect = { set_cosmetic_tag = ALB_cwo  add_ideas = { ALB_idea_konare_army  ALB_idea_first_strike } }
        random_other_country = {
			limit = {
				original_tag = ALB
				has_government = neutrality
			}

            hidden_effect = {
                set_popularities = {
                    democratic = 0
                    fascism = 0
                    communism = 0
                    neutrality = 100
                } 
                set_cosmetic_tag = ALB_civil_war_zogu 
                add_ideas = {
                    ALB_idea_new_militia_army
                    ALB_idea_unprepared_civil_war
                 }
                remove_ideas = { idea = ALB_idea_the_royal_albanian_army }
            }
		}
        hidden_effect = {
            if = {
                limit = {
                    is_ai = yes
                }
                add_equipment_to_stockpile = {
                    type = infantry_equipment
                    amount = 10000
                    producer = ALB
                }
                add_equipment_to_stockpile = {
                    type = support_equipment
                    amount = 250
                    producer = ALB
                }
                add_equipment_to_stockpile = {
                    type = artillery_equipment
                    amount = 400
                    producer = ALB
                }
            }
            division_template = {
                name = "Partizanet Jugosllave"
                priority = 1
                regiments = {
                    shocktroop = { x = 0 y = 0 }
                    shocktroop = { x = 0 y = 1 }
					shocktroop = { x = 0 y = 2 }
                    artillery_brigade = { x = 1 y = 0 }
                }
                support = {
                    engineer = { x = 0 y = 1 }
                }
            }
            capital_scope = {
                create_unit = {
                    division = "name = \"Partizanet Jugosllave\" division_template = \"Partizanet Jugosllave\" start_experience_factor = 0.3 start_equipment_factor = 0.75 force_equipment_variants = { infantry_equipment_1 = { owner = ALB } }" 
                    owner = ROOT
                }
                create_unit = {
                    division = "name = \"Partizanet Jugosllave\" division_template = \"Partizanet Jugosllave\" start_experience_factor = 0.3 start_equipment_factor = 0.75 force_equipment_variants = { infantry_equipment_1 = { owner = ALB } }" 
                    owner = ROOT
                }
            }
        }
    }
}

country_event = { # revise treaty of tirane
	id = albania.2
	title = albania.2.t
	desc = albania.2.d
	picture = GFX_
	
	is_triggered_only = yes
	
	option = { # maintain
		name = albania.2.a
		ai_chance = { factor = 90 }
        
	}

    option = { # abandon
		name = albania.2.a
		ai_chance = { factor = 10 }
        
	}
}

country_event = { # hunger strikes
	id = albania.3
	title = albania.3.t
	desc = albania.3.d
	picture = GFX_report_event_generic_strike
	
	is_triggered_only = yes
	
	option = { # activate hunger strikes
		name = albania.3.a
		ai_chance = { base = 100 }
        effect_tooltip = {
            activate_mission = ALB_hunger_strikes_escalate
            add_ideas = ALB_idea_hunger_strikes
        }
	}
}

country_event = { # italian supplies
	id = albania.4
	title = albania.4.t
	desc = albania.4.d
	picture = GFX_
	
	is_triggered_only = yes
	
	option = { # yay
		name = albania.4.a
		ai_chance = { factor = 100 }
        add_equipment_to_stockpile = { type = infantry_equipment amount = 2000 producer = ITA }
		add_equipment_to_stockpile = { type = artillery_equipment amount = 500 producer = ITA }
	}
}

##### ITALY-ALBANIA RELATED #####

country_event = { # ask italy for puppet
	id = albania.5
	title = albania.5.t
	desc = albania.5.d
	picture = GFX_
	
	is_triggered_only = yes
	
	option = { # yes
		name = albania.5.a
		ai_chance = { factor = 100 }
        ITA = {
            puppet = ALB
        }
        ALB = {
            country_event = albania.6
        }
	}

    option = { # no
		name = albania.5.b
		ai_chance = { factor = 0 }
        ALB = {
            country_event = albania.7
        }
	}
}

country_event = { # ask italy for puppet
	id = albania.6
	title = albania.6.t
	desc = albania.6.d
	picture = GFX_
	
	is_triggered_only = yes
	
	option = { # YAY
		name = albania.6.a
		ai_chance = { factor = 100 }
	}
}

country_event = { # ask italy for puppet
	id = albania.7
	title = albania.7.t
	desc = albania.7.d
	picture = GFX_
	
	is_triggered_only = yes
	
	option = { # oh
		name = albania.7.a
		ai_chance = { factor = 100 }
	}
}